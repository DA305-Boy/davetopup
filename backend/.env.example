# =============================================================================
# DAVE TOPUP CHECKOUT SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to `.env` and fill in all required values
# DO NOT commit the .env file to version control
# =============================================================================

# Application Configuration
APP_NAME=DaveTopUp
APP_ENV=production
APP_KEY=base64:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
APP_DEBUG=false
APP_URL=https://davetopup.com
APP_TIMEZONE=UTC

# Database Configuration
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=davetopup
DB_USERNAME=davetopup_user
DB_PASSWORD=your_secure_database_password

# Redis Cache (optional)
CACHE_DRIVER=redis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Session
SESSION_DRIVER=cookie
SESSION_LIFETIME=120

# Queue (for async jobs like top-up delivery)
QUEUE_CONNECTION=database
# Or use Redis: QUEUE_CONNECTION=redis

# =============================================================================
# STRIPE CONFIGURATION
# Get keys from: https://dashboard.stripe.com/apikeys
# Test mode and production mode use different keys
# =============================================================================

# Production (Live) - Uncomment for production
# STRIPE_PUBLIC_KEY=pk_live_51234567890abcdefghijklmnopqrstuvwxyz
# STRIPE_SECRET_KEY=sk_live_98765432109876543210987654321098765432

# Sandbox (Testing) - Uncomment for testing
STRIPE_PUBLIC_KEY=pk_test_51234567890abcdefghijklmnopqrstuvwxyz
STRIPE_SECRET_KEY=sk_test_98765432109876543210987654321098765432
STRIPE_WEBHOOK_SECRET=whsec_1234567890abcdefghijklmnopqrstuvwxyz

# =============================================================================
# PAYPAL CONFIGURATION
# Get credentials from: https://developer.paypal.com/dashboard/
# =============================================================================

# Sandbox Mode (Testing)
PAYPAL_MODE=sandbox
PAYPAL_CLIENT_ID=AW1234567890abcdefghijklmnopqrstuvwxyz
PAYPAL_SECRET=EW1234567890abcdefghijklmnopqrstuvwxyz
PAYPAL_WEBHOOK_ID=WH-1234567890abcdefghijklmnopqrstuvwxyz

# Production (Live) - Uncomment for production
# PAYPAL_MODE=live
# PAYPAL_CLIENT_ID=your_live_client_id
# PAYPAL_SECRET=your_live_secret
# PAYPAL_WEBHOOK_ID=your_live_webhook_id

# =============================================================================
# BINANCE PAY CONFIGURATION
# Get credentials from: https://pay.binance.com/
# =============================================================================

BINANCE_API_KEY=your_api_key
BINANCE_SECRET_KEY=your_secret_key
BINANCE_MERCHANT_ID=your_merchant_id
BINANCE_CERTIFICATE_SN=your_certificate_sn

# =============================================================================
# TOP-UP PROVIDER CONFIGURATION
# Configure your game currency provider API
# =============================================================================

TOPUP_PROVIDER_URL=https://api.topupprovider.com
TOPUP_PROVIDER_API_KEY=your_api_key
TOPUP_PROVIDER_MERCHANT_ID=your_merchant_id
TOPUP_PROVIDER_WEBHOOK_SECRET=your_webhook_secret
TOPUP_PROVIDER_TIMEOUT=30

# =============================================================================
# EXTERNAL VOUCHER PROVIDER (Optional)
# If using external voucher validation service
# =============================================================================

VOUCHER_PROVIDER_URL=https://api.voucherprovider.com
VOUCHER_PROVIDER_API_KEY=your_api_key

# =============================================================================
# EMAIL CONFIGURATION
# Use SendGrid or your preferred SMTP provider
# =============================================================================

MAIL_MAILER=smtp
MAIL_HOST=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=your_sendgrid_api_key
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@davetopup.com
MAIL_FROM_NAME="Dave TopUp"

# Alternative: Use local SMTP
# MAIL_HOST=mail.davetopup.com
# MAIL_USERNAME=noreply@davetopup.com
# MAIL_PASSWORD=your_email_password

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

LOG_CHANNEL=stack
LOG_LEVEL=warning

# Sentry (Optional - for error tracking)
SENTRY_LARAVEL_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=production

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://davetopup.com,https://www.davetopup.com,https://checkout.davetopup.com

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_MINUTES=1

# =============================================================================
# PAYMENT PROCESSING
# =============================================================================

# Tax rate for calculations (as decimal, e.g., 0.08 for 8%)
TAX_RATE=0.08

# Supported currencies
SUPPORTED_CURRENCIES=USD,EUR,GBP,CAD,AUD

# =============================================================================
# ADMIN SETTINGS
# =============================================================================

# Admin API token (generate with: php artisan tinker)
ADMIN_API_TOKEN=generate_secure_token_here

# Sanctum token expiration (in days)
SANCTUM_TOKEN_EXPIRATION=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================

FEATURE_3D_SECURE=true
FEATURE_VOUCHER_AUTO_APPROVAL=true
FEATURE_ASYNC_DELIVERY=true
FEATURE_WEBHOOK_RETRY=true

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# Uncomment these for local development
# APP_DEBUG=true
# APP_ENV=local

# Skip webhook signature verification (development only!)
# WEBHOOK_SKIP_VERIFICATION=false

# =============================================================================
# NOTES
# =============================================================================

# 1. Generate app key: php artisan key:generate
# 
# 2. For production, use strong passwords and API keys:
#    - Database password: 32+ random characters
#    - Stripe/PayPal/Binance keys: Keep secure
#    - Email credentials: Use app-specific passwords
#
# 3. Stripe Test Cards:
#    - Success: 4242 4242 4242 4242
#    - 3D Secure Required: 4000 0025 0000 3155
#    - Decline: 4000 0000 0000 0002
#
# 4. PayPal Sandbox: Use sandbox.paypal.com accounts
#
# 5. Binance Pay: Requires certificate for production
#
# 6. For SSL: Use Let's Encrypt (certbot) with auto-renewal
#
# 7. Database backups: Daily automated backups recommended
#
# 8. Monitoring: Set up error logging and uptime monitoring
